<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Session Checklist - SteveSystem</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary-bg: #0a0a0a;
            --secondary-bg: #1a1a1a;
            --card-bg: #2a2a2a;
            --accent-blue: #3b82f6;
            --accent-green: #10b981;
            --accent-red: #ef4444;
            --accent-yellow: #f59e0b;
            --accent-orange: #f97316;
            --text-primary: #ffffff;
            --text-secondary: #a1a1aa;
            --border-color: #404040;
        }
        
        body {
            background: linear-gradient(135deg, #0f0f23 0%, #1a1a2e 50%, #16213e 100%);
            color: var(--text-primary);
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            min-height: 100vh;
        }
        
        .protocol-card {
            background: #1e293b;
            border: 1px solid #374151;
            border-radius: 8px;
            padding: 1.5rem;
        }
        
        .timer-display {
            font-family: 'Courier New', monospace;
            font-size: 4rem;
            font-weight: bold;
            color: #ef4444;
            text-shadow: 0 0 20px rgba(239, 68, 68, 0.5);
        }
        
        .checklist-item {
            background: rgba(30, 30, 30, 0.6);
            border: 1px solid #404040;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 16px;
            transition: all 0.3s ease;
        }
        
        .checklist-item.completed {
            background: rgba(16, 185, 129, 0.1);
            border-color: #10b981;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            color: white;
            padding: 8px 16px;
            border-radius: 8px;
            border: none;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(16, 185, 129, 0.4);
        }
        
        .btn-secondary {
            background: linear-gradient(135deg, #f97316 0%, #ea580c 100%);
            color: white;
            padding: 8px 16px;
            border-radius: 8px;
            border: none;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }
        
        .btn-danger {
            background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
            color: white;
            padding: 8px 16px;
            border-radius: 8px;
            border: none;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }
        
        .btn-disabled {
            background: #6b7280;
            color: #9ca3af;
            padding: 12px 24px;
            border-radius: 8px;
            border: none;
            font-weight: 600;
            cursor: not-allowed;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }
        
        .progress-bar {
            width: 100%;
            height: 4px;
            background: #374151;
            border-radius: 2px;
            overflow: hidden;
            margin: 16px 0;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #10b981 0%, #059669 100%);
            transition: width 0.3s ease;
        }
        
        .checkbox {
            width: 20px;
            height: 20px;
            border: 2px solid #6b7280;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .checkbox.checked {
            background: #10b981;
            border-color: #10b981;
        }
        
        .status-indicator {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
        }
        
        .status-neutral {
            background: rgba(251, 191, 36, 0.2);
            color: #fbbf24;
            border: 1px solid #fbbf24;
        }
    </style>
</head>
<body class="min-h-screen p-6">
    <div class="max-w-6xl mx-auto space-y-8">
        <!-- Header -->
        <div class="text-center mb-8">
            <h1 class="text-4xl font-bold text-white mb-2 flex items-center justify-center gap-4">
                <i class="fas fa-clock text-red-400"></i>
                PRE-MATCH DISCIPLINE PROTOCOL
            </h1>
            <div class="timer-display" id="timer-display">20:00</div>
            <div class="protocol-card red-glow mt-6">
                <div class="flex items-center justify-center gap-3 text-center">
                    <i class="fas fa-exclamation-triangle text-yellow-400 text-xl"></i>
                    <div>
                        <div class="text-white font-bold text-lg">DEADLINE APPROACHING</div>
                        <div class="text-gray-400 text-sm">No bets allowed after timer expires unless signal changes</div>
                    </div>
                </div>
                <div class="flex justify-center gap-4 mt-6">
                    <button class="btn-primary" onclick="startTimer()">
                        <i class="fas fa-play"></i>
                        Start 20-Minute Window
                    </button>
                    <button class="btn-danger" onclick="resetTimer()">
                        <i class="fas fa-redo"></i>
                        Reset Timer
                    </button>
                </div>
            </div>
        </div>

        <!-- Mandatory Checklist -->
        <div class="protocol-card blue-glow">
            <h2 class="text-2xl font-bold text-white mb-4 flex items-center gap-3">
                <i class="fas fa-clipboard-list text-blue-400"></i>
                MANDATORY CHECKLIST
            </h2>
            <div class="progress-bar">
                <div class="progress-fill" id="progress-fill" style="width: 0%"></div>
            </div>
            <div class="text-sm text-gray-400 mb-6">
                Progress: <span id="progress-text">0/6</span> items completed
            </div>
            
            <!-- Checklist Items -->
            <div class="space-y-4">
                <!-- Item 1: Timing Window -->
                <div class="checklist-item" id="item-1">
                    <div class="flex items-start gap-4">
                        <div class="checkbox" onclick="toggleItem(1)"></div>
                        <div class="flex-1">
                            <h3 class="text-lg font-bold text-white mb-2 flex items-center gap-2">
                                <i class="fas fa-clock text-blue-400"></i>
                                1. TIMING WINDOW VERIFICATION
                            </h3>
                            <p class="text-gray-300 text-sm mb-4">
                                Confirm you are placing this bet within 20 minutes before match start. After deadline, NO BETS unless clear signal change occurs.
                            </p>
                            <div class="flex gap-3">
                                <button class="btn-primary" onclick="verifyMatchTime()">
                                    <i class="fas fa-check"></i>
                                    Verify Match Time
                                </button>
                                <button class="btn-secondary" onclick="setSignalAlert()">
                                    <i class="fas fa-bell"></i>
                                    Set Signal Alert
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Item 2: Killer Mode -->
                <div class="checklist-item" id="item-2">
                    <div class="flex items-start gap-4">
                        <div class="checkbox" onclick="toggleItem(2)"></div>
                        <div class="flex-1">
                            <h3 class="text-lg font-bold text-white mb-2 flex items-center gap-2">
                                <i class="fas fa-brain text-red-400"></i>
                                2. KILLER MODE VERIFICATION
                            </h3>
                            <p class="text-gray-300 text-sm mb-4">
                                RULE #1: DON'T LOSE MONEY CARELESSLY. Are you in killer mode? If not, you will kill yourself. Check your mental state.
                            </p>
                            <div class="flex gap-3">
                                <button class="btn-primary" onclick="setMentalState('killer')">
                                    <i class="fas fa-bullseye"></i>
                                    KILLER MODE
                                </button>
                                <button class="btn-secondary" onclick="setMentalState('unfocused')">
                                    <i class="fas fa-eye-slash"></i>
                                    Unfocused
                                </button>
                                <button class="btn-danger" onclick="setMentalState('emotional')">
                                    <i class="fas fa-sad-tear"></i>
                                    Emotional
                                </button>
                            </div>
                            <div class="mt-3" id="mental-state-display"></div>
                        </div>
                    </div>
                </div>

                <!-- Item 3: Match Stats -->
                <div class="checklist-item" id="item-3">
                    <div class="flex items-start gap-4">
                        <div class="checkbox" onclick="toggleItem(3)"></div>
                        <div class="flex-1">
                            <h3 class="text-lg font-bold text-white mb-2 flex items-center gap-2">
                                <i class="fas fa-chart-bar text-green-400"></i>
                                3. MATCH STATS VERIFICATION
                            </h3>
                            <p class="text-gray-300 text-sm mb-4">
                                Vet BOTH sides no matter how much you think you know. Fresh eyes on all data.
                            </p>
                            <div class="flex gap-3">
                                <button class="btn-primary" onclick="checkStats('home')">
                                    <i class="fas fa-home"></i>
                                    Home Team Stats
                                </button>
                                <button class="btn-primary" onclick="checkStats('away')">
                                    <i class="fas fa-plane"></i>
                                    Away Team Stats
                                </button>
                                <button class="btn-primary" onclick="checkStats('h2h')">
                                    <i class="fas fa-handshake"></i>
                                    Head to Head
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Item 4: Social Sentiment -->
                <div class="checklist-item" id="item-4">
                    <div class="flex items-start gap-4">
                        <div class="checkbox" onclick="toggleItem(4)"></div>
                        <div class="flex-1">
                            <h3 class="text-lg font-bold text-white mb-2 flex items-center gap-2">
                                <i class="fas fa-comments text-purple-400"></i>
                                4. SOCIAL SENTIMENT ANALYSIS
                            </h3>
                            <p class="text-gray-300 text-sm mb-4">
                                Check public sentiment and analysis. Where is the money going? What's the narrative?
                            </p>
                            <div class="flex gap-3 mb-3">
                                <button class="btn-primary" onclick="checkSentiment('twitter')">
                                    <i class="fab fa-twitter"></i>
                                    Twitter Sentiment
                                </button>
                                <button class="btn-primary" onclick="checkSentiment('reddit')">
                                    <i class="fab fa-reddit"></i>
                                    Reddit Analysis
                                </button>
                                <button class="btn-primary" onclick="checkSentiment('forums')">
                                    <i class="fas fa-users"></i>
                                    Betting Forums
                                </button>
                            </div>
                            <div class="status-indicator status-neutral" id="sentiment-status">
                                <i class="fas fa-circle"></i>
                                TWITTER: NEUTRAL sentiment
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Item 5: Mentor Consultation -->
                <div class="checklist-item" id="item-5">
                    <div class="flex items-start gap-4">
                        <div class="checkbox" onclick="toggleItem(5)"></div>
                        <div class="flex-1">
                            <h3 class="text-lg font-bold text-white mb-2 flex items-center gap-2">
                                <i class="fas fa-user text-yellow-400"></i>
                                5. MENTOR CONSULTATION
                            </h3>
                            <p class="text-gray-300 text-sm mb-4">
                                Talk through your reasoning with a second head. No matter how small or big the bet - external perspective always helps.
                            </p>
                            <div class="flex gap-3">
                                <button class="btn-primary" onclick="contactMentor('call')">
                                    <i class="fas fa-phone"></i>
                                    Call Mentor
                                </button>
                                <button class="btn-primary" onclick="contactMentor('message')">
                                    <i class="fas fa-envelope"></i>
                                    Message Mentor
                                </button>
                                <button class="btn-primary" onclick="contactMentor('record')">
                                    <i class="fas fa-pen"></i>
                                    Record Reasoning
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Item 6: Perspective Check -->
                <div class="checklist-item" id="item-6">
                    <div class="flex items-start gap-4">
                        <div class="checkbox" onclick="toggleItem(6)"></div>
                        <div class="flex-1">
                            <h3 class="text-lg font-bold text-white mb-2 flex items-center gap-2">
                                <i class="fas fa-lightbulb text-orange-400"></i>
                                6. PERSPECTIVE & BELIEF CHECK
                            </h3>
                            <p class="text-gray-300 text-sm mb-4">
                                Trust yourself and believe. Take perspective from day-to-day, yearly, and even decade view.
                            </p>
                            <div class="flex gap-3">
                                <button class="btn-primary" onclick="checkPerspective('daily')">
                                    <i class="fas fa-calendar-day"></i>
                                    Daily View
                                </button>
                                <button class="btn-primary" onclick="checkPerspective('yearly')">
                                    <i class="fas fa-calendar-alt"></i>
                                    Yearly View
                                </button>
                                <button class="btn-primary" onclick="checkPerspective('decade')">
                                    <i class="fas fa-trophy"></i>
                                    Decade View
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Consequence Protocol -->
        <div class="protocol-card">
            <h2 class="text-xl font-bold text-white mb-4">Consequence Protocol</h2>
            <p class="text-gray-400 text-sm mb-4">
                Define trigger conditions and their consequences for trading violations.
            </p>
            
            <div class="overflow-x-auto">
                <table class="w-full text-sm">
                    <thead>
                        <tr class="border-b border-gray-600">
                            <th class="text-left py-3 px-4 text-gray-300 w-1/4">Trigger Condition (The Compromise)</th>
                            <th class="text-left py-3 px-4 text-gray-300 w-1/3">Structural Consequence (The Fine/The Re-Wiring)</th>
                            <th class="text-left py-3 px-4 text-gray-300 w-1/3">Psychological Rationale</th>
                        </tr>
                    </thead>
                    <tbody id="consequence-table-body">
                        <!-- Consequence rows will be populated by JavaScript -->
                    </tbody>
                </table>
            </div>
            
            <div class="mt-6 flex gap-3">
                <button class="btn-primary" onclick="addConsequenceRule()">
                    <i class="fas fa-plus"></i>
                    Add Rule
                </button>
                <button class="btn-secondary" onclick="resetConsequenceProtocol()">
                    <i class="fas fa-undo"></i>
                    Reset Protocol
                </button>
                <button class="btn-danger" onclick="triggerConsequence()">
                    <i class="fas fa-exclamation"></i>
                    Trigger Consequence
                </button>
            </div>
        </div>

        <!-- Ready to Execute -->
        <div class="protocol-card orange-glow text-center">
            <h2 class="text-2xl font-bold text-white mb-6 flex items-center justify-center gap-3">
                <i class="fas fa-bullseye text-orange-400"></i>
                READY TO EXECUTE?
            </h2>
            <button class="btn-disabled" id="execute-btn" onclick="executeBet()">
                <i class="fas fa-clock"></i>
                TIMER NOT ACTIVE OR EXPIRED
            </button>
            <p class="text-gray-400 text-sm mt-4">All items must be completed and timer must be active</p>
        </div>
    </div>

    <script>
        let timer = null;
        let timeLeft = 20 * 60; // 20 minutes in seconds
        let completedItems = new Set();
        let isTimerActive = false;
        let consequenceRules = [];

        function startTimer() {
            if (timer) clearInterval(timer);
            isTimerActive = true;
            timer = setInterval(() => {
                timeLeft--;
                updateTimerDisplay();
                if (timeLeft <= 0) {
                    clearInterval(timer);
                    isTimerActive = false;
                    alert('Timer expired! No more bets allowed unless signal changes.');
                }
                updateExecuteButton();
            }, 1000);
            updateExecuteButton();
        }

        function resetTimer() {
            if (timer) clearInterval(timer);
            timeLeft = 20 * 60;
            isTimerActive = false;
            updateTimerDisplay();
            updateExecuteButton();
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeLeft / 60);
            const seconds = timeLeft % 60;
            document.getElementById('timer-display').textContent = 
                `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
        }

        function toggleItem(itemNumber) {
            const item = document.getElementById(`item-${itemNumber}`);
            const checkbox = item.querySelector('.checkbox');
            
            if (completedItems.has(itemNumber)) {
                completedItems.delete(itemNumber);
                checkbox.classList.remove('checked');
                item.classList.remove('completed');
            } else {
                completedItems.add(itemNumber);
                checkbox.classList.add('checked');
                item.classList.add('completed');
            }
            
            updateProgress();
            updateExecuteButton();
        }

        function updateProgress() {
            const progress = (completedItems.size / 6) * 100;
            document.getElementById('progress-fill').style.width = `${progress}%`;
            document.getElementById('progress-text').textContent = `${completedItems.size}/6`;
        }

        function updateExecuteButton() {
            const btn = document.getElementById('execute-btn');
            const allCompleted = completedItems.size === 6;
            
            if (allCompleted && isTimerActive && timeLeft > 0) {
                btn.className = 'btn-primary';
                btn.innerHTML = '<i class="fas fa-rocket"></i> EXECUTE BET';
                btn.onclick = executeBet;
            } else {
                btn.className = 'btn-disabled';
                if (!isTimerActive) {
                    btn.innerHTML = '<i class="fas fa-clock"></i> TIMER NOT ACTIVE OR EXPIRED';
                } else if (!allCompleted) {
                    btn.innerHTML = '<i class="fas fa-clipboard-check"></i> COMPLETE ALL ITEMS FIRST';
                }
                btn.onclick = null;
            }
        }

        function executeBet() {
            if (completedItems.size === 6 && isTimerActive && timeLeft > 0) {
                alert('✅ All checks passed! You are cleared to execute your bet. Good luck!');
            }
        }

        // Action functions for each checklist item
        function verifyMatchTime() {
            alert('Match time verification opened. Please confirm you are within the 20-minute window.');
        }

        function setSignalAlert() {
            alert('Signal alert set. You will be notified of any significant changes.');
        }

        function setMentalState(state) {
            const display = document.getElementById('mental-state-display');
            const states = {
                killer: { text: 'KILLER MODE ACTIVATED', color: 'text-green-400' },
                unfocused: { text: 'UNFOCUSED - NOT RECOMMENDED', color: 'text-yellow-400' },
                emotional: { text: 'EMOTIONAL - DO NOT BET', color: 'text-red-400' }
            };
            display.innerHTML = `<div class="${states[state].color} font-bold">${states[state].text}</div>`;
        }

        function checkStats(type) {
            alert(`${type.charAt(0).toUpperCase() + type.slice(1)} team stats verification opened.`);
        }

        function checkSentiment(platform) {
            alert(`${platform.charAt(0).toUpperCase() + platform.slice(1)} sentiment analysis opened.`);
        }

        function contactMentor(method) {
            alert(`Opening ${method} with mentor...`);
        }

        function checkPerspective(timeframe) {
            alert(`${timeframe.charAt(0).toUpperCase() + timeframe.slice(1)} perspective check opened.`);
        }

        // Consequence Protocol Functions
        function addConsequenceRule() {
            const trigger = prompt('Enter trigger condition:');
            const consequence = prompt('Enter structural consequence:');
            const rationale = prompt('Enter psychological rationale:');
            
            if (trigger && consequence && rationale) {
                const rule = {
                    id: Date.now(),
                    trigger: trigger.trim(),
                    consequence: consequence.trim(),
                    rationale: rationale.trim(),
                    status: 'Active',
                    triggered: false
                };
                consequenceRules.push(rule);
                renderConsequenceTable();
                saveConsequenceRules();
            }
        }

        function renderConsequenceTable() {
            const tbody = document.getElementById('consequence-table-body');
            tbody.innerHTML = '';
            
            consequenceRules.forEach((rule, index) => {
                const row = document.createElement('tr');
                row.className = 'border-b border-gray-700';
                
                row.innerHTML = `
                    <td class="py-3 px-4 text-white">${rule.trigger}</td>
                    <td class="py-3 px-4 text-white">${rule.consequence}</td>
                    <td class="py-3 px-4 text-gray-300">${rule.rationale}</td>
                `;
                
                tbody.appendChild(row);
            });
        }

        function editConsequenceRule(index) {
            const rule = consequenceRules[index];
            const newTrigger = prompt('Edit trigger condition:', rule.trigger);
            const newConsequence = prompt('Edit structural consequence:', rule.consequence);
            const newRationale = prompt('Edit psychological rationale:', rule.rationale);
            
            if (newTrigger && newConsequence && newRationale) {
                rule.trigger = newTrigger.trim();
                rule.consequence = newConsequence.trim();
                rule.rationale = newRationale.trim();
                renderConsequenceTable();
                saveConsequenceRules();
            }
        }

        function toggleConsequenceRule(index) {
            const rule = consequenceRules[index];
            rule.status = rule.status === 'Active' ? 'Inactive' : 'Active';
            renderConsequenceTable();
            saveConsequenceRules();
        }

        function deleteConsequenceRule(index) {
            if (confirm('Delete this consequence rule?')) {
                consequenceRules.splice(index, 1);
                renderConsequenceTable();
                saveConsequenceRules();
            }
        }

        function triggerConsequence() {
            const activeRules = consequenceRules.filter(rule => rule.status === 'Active');
            
            if (activeRules.length === 0) {
                alert('No active consequence rules to trigger.');
                return;
            }
            
            let message = 'CONSEQUENCE PROTOCOL TRIGGERED\n\n';
            activeRules.forEach((rule, index) => {
                message += `${index + 1}. ${rule.trigger}\n   → ${rule.consequence}\n\n`;
                rule.status = 'Triggered';
            });
            
            alert(message);
            renderConsequenceTable();
            saveConsequenceRules();
        }

        function resetConsequenceProtocol() {
            if (confirm('Reset all consequence rules? This cannot be undone.')) {
                consequenceRules = [];
                renderConsequenceTable();
                saveConsequenceRules();
            }
        }

        function saveConsequenceRules() {
            localStorage.setItem('consequenceRules', JSON.stringify(consequenceRules));
        }

        function loadConsequenceRules() {
            const saved = localStorage.getItem('consequenceRules');
            if (saved && saved !== '[]') {
                try {
                    consequenceRules = JSON.parse(saved);
                    console.log('Loaded consequence rules:', consequenceRules);
                } catch (e) {
                    console.error('Error parsing saved rules:', e);
                    consequenceRules = getDefaultRules();
                }
            } else {
                consequenceRules = getDefaultRules();
                console.log('Using default consequence rules');
            }
            renderConsequenceTable();
            saveConsequenceRules();
        }

        function getDefaultRules() {
            return [
                {
                    id: 1,
                    trigger: '"Quick 2-Second Check" Override',
                    consequence: '3-day Trading Freeze on that specific sport/market, regardless of size',
                    rationale: 'Punishes the Laziness: Forces deep separation between low-effort trigger and high-cost outcome. Breaks the "Hamster Wheel" cycle by enforcing mandatory rest period when system is proven faulty.',
                    status: 'Active',
                    triggered: false
                },
                {
                    id: 2,
                    trigger: 'Ignoring the Contradiction',
                    consequence: 'Next 3 trades reduced by 50% sizing, restricted only to Anti-Outcome / Micro-Narrative Props (Over Total Games, Quarter Winners)',
                    rationale: 'Punishes the Rigidity: Re-wires system to respect contradiction presence. Forces immediate abandonment of "sloppy positions" and return to surgical, high-integrity expression to earn back full sizing.',
                    status: 'Active',
                    triggered: false
                },
                {
                    id: 3,
                    trigger: '"Losing" the Narrative',
                    consequence: 'Mandatory Clarity Audit: One full hour writing Paradox Identification Without Exploration for next 5 days, even if not trading. Focus on "Max Pain" scenarios.',
                    rationale: 'Re-wires narrative respect: Forces deep exploration of internal contradictions and ignored feelings. Builds awareness of personal warning signals.',
                    status: 'Active',
                    triggered: false
                }
            ];
        }

        // Initialize
        updateTimerDisplay();
        updateExecuteButton();
        loadConsequenceRules();
    </script>
</body>
</html>
